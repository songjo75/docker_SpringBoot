<!DOCTYPE html>
<html lang="en"  xmlns:th="http://www.thymeleaf.org">
    <head th:fragment="commonHead(title)">
        <title th:text="${title}">Default Title</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- Axios 라이브러리 CDN -->
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

        <!-- Google Material Icons (Outlined) -->
        <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined&display=swap" rel="stylesheet">

        <link href="/css/main.css" rel="stylesheet">
        <link href="/css/product.css" rel="stylesheet">
    </head>
    <body>
<th:block th:fragment="headerFragment">
    <div class="container">
        <div class="container-fluid mt-3">
            <br>
            <h3>ACADEMY</h3>
        </div>
    </div>
    <nav class="navbar navbar-expand-sm sticky-top">
        <div class="container">
            <div>
                <ul class="navbar-nav w-100">
                    <li class="nav-item">
                        <a class="nav-link" href="/">HOME</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/products">상품관리</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/users">회원관리</a>
                    </li>
                </ul>
            </div>
            <!-- 로그인 / 회원가입 -->
            <div class="d-flex align-items-center gap-2 login-area">
                <span th:if="${session.loggedInUser}" class="d-flex align-items-center gap-1">
                    <span class="material-symbols-outlined">person</span>
                    <a href="/users/profile" class="me-3 text-decoration-none">마이프로필</a>
                    <a href="/users/logout" class="d-flex align-items-center gap-1">
                        <span class="material-symbols-outlined">logout</span> 로그아웃
                    </a>
                </span>
                <span th:unless="${session.loggedInUser}" class="d-flex align-items-center gap-3">
                    <a href="/users/login" class="d-flex align-items-center gap-1">
                        <span class="material-symbols-outlined">login</span> 로그인
                    </a>
                    <a href="/users/form" class="d-flex align-items-center gap-1">
                        <span class="material-symbols-outlined">person_add</span> 회원가입
                    </a>
                </span>
            </div>
        </div>
    </nav>
</th:block>
<!-- 마이프로필 사이드 메뉴 -->
<th:block th:fragment="myProfileSidebar(selected)">
    <div class="list-group me-4" style="width: 200px;">
        <a th:href="@{/users/my/orders}" class="list-group-item list-group-item-action" th:classappend="${selected == 'orders' ? 'active' : ''}">나의 주문 목록</a>
        <a th:href="@{/users/my/edit}" class="list-group-item list-group-item-action" th:classappend="${selected == 'edit' ? 'active' : ''}">회원정보 수정</a>
        <a th:href="@{/users/my/change-password}" class="list-group-item list-group-item-action" th:classappend="${selected == 'password' ? 'active' : ''}">비밀번호 변경</a>
        <a th:href="@{/users/my/delete}" class="list-group-item list-group-item-action" th:classappend="${selected == 'delete' ? 'active' : ''}">회원탈퇴</a>
    </div>
</th:block>

<th:block th:fragment="footerFragment">
    <footer class="border-top container mt-5 p-3">
        &copy; Powered by Academy.
        <span style="font-size:11px">
			<a href="#">이용약관</a>
			<a href="#">개인정보처리방침</a>
			<a href="#">고객센터</a>
		</span>
    </footer>
</th:block>
</body>
</html>